---
title: 数据库(7)
date: 2024-12-22 23:12:53
tags:
    - 学习笔记
    - 数据库
---
好吧，操作系统也有`ER`图，不知道为何，我很讨厌软件工程的这种教学内容，但是我很支持软件工程这种工业化流水线式的软件规划本身，在此叠甲。
不过的确如此，对于复杂系统的设计，往往都需要进行相应的前置研究。

![E-R diagram for a university enterprise](/img/数据库(7)/ER_1.png)

## 数据库设计过程和方法

### 整体设计过程

**数据库架构设计一班分为三级**：

- 概念设计
- 逻辑设计
- 物理设计

![数据库设计整体过程](/img/数据库(7)/数据库整体设计过程.png)

类似于一般软件工程中的设计过程，在数据库设计的过程中，首先进行进行需求分析，然后是相关的概念设计、逻辑设计和物理设计。在逻辑设计的过程中会生成初始关系模式并且规范化关系架构。

![DBS设计](/img/数据库(7)/DBS设计.png)

- 数据库应用系统(DBAS)设计
  - DB, DBMS, application programs
- DBAS设计过程
  - 生命周期包括五个阶段：
        项目规划、需求分析、系统设计、实现与部署、运行管理与维护等
  - 根据软件组成和各自功能，分为三条设计主线：
    - 数据组织与存储设计、数据访问与处理设计、应用设计
    - 分别用于设计数据库、数据库事务和应用程序
  - 根据数据库系统三级模式结构，设计阶段分为三个步骤：
    - 概念设计、逻辑设计、物理设计
    - 每一步设计内容涵盖了三条设计主线。
  
![设计过程](/img/数据库(7)/设计过程.png)

## E-R模型(实体关系模型0)(概念设计)

- E-R数据关系模型常常被用来帮助代表 DB 整体逻辑结构的数据库设计
- ER设计有助于将实际企业的含义和交互映射到概念架构上。

**对于ER关系模型往往包含如下三个内容**：

- 实体集
- 关系集
- 属性

### Entity Sets（实体集，实体型）

- 定义：实体是存在且可与其他对象区分开来的对象。
  - 示例：特定人员、公司
- 实体集是一组共享相同属性的相同类型的实体。
  - 示例：人员集、公司
- 实体由一组属性表示，即，实体集的描述性属性
  - 例：
    instructor = (ID, name, street, city, salary )
    course= (course_id, title, credits)
- 属性的子集构成主键;即，唯一标识实体集的每个成员。

对于实体本身，其有实体属性和属性相应的值组成
对于一个实体的定义一般如下
$$
\texttt{instructor-set} = \left\{ \langle \texttt{instructor\_ID}, \texttt{instructor\_name} \rangle \mid \texttt{instructor\_ID} \in D_1, \texttt{instructor\_name} \in D_2 \right\} \subseteq D_1 \times D_2
$$

### Relationship Sets(关系集)

- 此处的关系是指不同实体之间的联系
  **Example**：

  | 44553 (Peltier) | advisor | 22222 (Einstein) |
  |-----------------|---------|------------------|
  | student entity  | relationship set | instructor entity |

- 一个关系集往往包含$n$个实体之间数学关系一般表示如下
  $$
  \{ (e_1, e_2, \dots, e_n) \mid e_1 \in E_1, e_2 \in E_2, \dots, e_n \in E_n \}
  $$
  **Example**
  $(44553,22222) \in advisor$
- 同一实体集中存在会存在多个关系，一个关系实体包含了现实世界实体中存在的实体
- 同理，对于属性而言，其本身可以存在于多个关系中
- 关系的实体集不必是不同的，实体集中的每个匹配项在关系中都起着一个作用
  - 实体在关系中扮演的角色称为该实体的角色
- 大多数数据关系集都属于二元关系，二元关系设计两个实体集，但是同时也存在三元关系，如下
  例如：学生在导师的指导下参与研究项目。
  ![三元关系](/img/数据库(7)/三元关系.png)
- 对于属性的值域往往可以是自行定义的一定范围，也可以是类似于在数据库定义中的枚举形式(check...in...),同时也可以是类似于结构体的形式，即**复合属性**。
  ![复合属性](/img/数据库(7)/复合属性.png)
  相同于数据库，其本身的属性域中也可以包含`NULL`，即表示该属性对实体不适用或不存在，或者该属性的值存在，但当前“未知”
- 复合属性允许将属性分解为子部分，

### 映射基数约束








## E-R 图简化为关系架构(逻辑设计)

## 示例